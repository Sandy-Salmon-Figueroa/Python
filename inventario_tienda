class InventarioTienda:
    def __init__(self):
        self.productos = {}
        self.agotados = set()    
    def agregar(self, nombre, cantidad):
        """Agrega o actualiza un producto en el inventario"""
        if cantidad <= 0:
            print("‚ùå La cantidad debe ser mayor a 0")
            return     
        nombre = nombre.lower().strip()     
        if nombre in self.productos:
            self.productos[nombre] += cantidad
            print(f"‚úÖ {nombre.title()} actualizado - Stock: {self.productos[nombre]}")
        else:
            self.productos[nombre] = cantidad
            print(f"‚úÖ {nombre.title()} agregado - Stock: {cantidad}")     
        # Si ten√≠a stock cero y ahora tiene, lo quitamos de agotados
        if nombre in self.agotados and self.productos[nombre] > 0:
            self.agotados.remove(nombre)
            print(f"{nombre.title()} ya tiene stock disponible")   
    def vender(self, nombre, cantidad):
        """Vende una cantidad espec√≠fica de un producto"""
        nombre = nombre.lower().strip()       
        if nombre not in self.productos:
            print(f"‚ùå {nombre.title()} no est√° en el inventario")
            return False      
        if cantidad <= 0:
            print("‚ùå La cantidad debe ser mayor a 0")
            return False     
        if self.productos[nombre] < cantidad:
            print(f"‚ùå Stock insuficiente de {nombre.title()}")
            print(f"   Disponible: {self.productos[nombre]}")
            return False     
        # Realizar venta
        self.productos[nombre] -= cantidad
        print(f"‚úÖ Vendidos {cantidad} de {nombre.title()}")
        print(f"   Stock restante: {self.productos[nombre]}")     
        # Verificar si se agot√≥
        if self.productos[nombre] == 0:
            self.agotados.add(nombre)
            print(f"‚ö†Ô∏è {nombre.title()} se ha agotado")     
        return True 
    def mostrar(self):
        """Muestra todo el inventario"""
        if not self.productos:
            print("El inventario est√° vac√≠o")
            return     
        print("\n" + "="*40)
        print("INVENTARIO")
        print("="*40)     
        for producto in sorted(self.productos.keys()):
            stock = self.productos[producto]
            estado = "üî¥ AGOTADO" if stock == 0 else f"üü¢ {stock} unidades"
            print(f"‚Ä¢ {producto.title():<15} - {estado}") 
    def ver_agotados(self):
        """Muestra productos sin stock"""
        if not self.agotados:
            print("‚úÖ Todos los productos tienen stock")
            return  
        print("\n" + "="*30)
        print("üî¥ SIN STOCK")
        print("="*30) 
        for i, producto in enumerate(sorted(self.agotados), 1):
            print(f"{i}. {producto.title()}")
    def consultar(self, nombre):
        """Consulta el stock de un producto"""
        nombre = nombre.lower().strip()   
        if nombre in self.productos:
            stock = self.productos[nombre]
            if stock == 0:
                print(f"üî¥ {nombre.title()} - AGOTADO")
            else:
                print(f"üü¢ {nombre.title()} - Stock: {stock}")
            return stock
        else:
            print(f"‚ùå {nombre.title()} no encontrado")
            return None
    def estadisticas(self):
        """Muestra resumen del inventario"""
        total = len(self.productos)
        disponibles = sum(1 for stock in self.productos.values() if stock > 0)
        sin_stock = len(self.agotados)
        stock_total = sum(self.productos.values())   
        print("\n" + "="*40)
        print("ESTAD√çSTICAS")
        print("="*40)
        print(f"Total productos: {total}")
        print(f"Con stock: {disponibles}")
        print(f"Sin stock: {sin_stock}")
        print(f"Stock total: {stock_total} unidades")    
        if self.productos:
            # Producto con m√°s stock
            mayor = max(self.productos.items(), key=lambda x: x[1])
            # Producto con menos stock (que tenga algo)
            con_stock = {p: c for p, c in self.productos.items() if c > 0}
            if con_stock:
                menor = min(con_stock.items(), key=lambda x: x[1])
                print(f"Mayor stock: {mayor[0].title()} ({mayor[1]})")
                print(f"Menor stock: {menor[0].title()} ({menor[1]})")
def menu_principal():
    """Interfaz de usuario principal"""
    tienda = InventarioTienda()
    while True:
        print("\n" + "="*30)
        print("INVENTARIO TIENDA")
        print("="*30)
        print("1. Agregar producto")
        print("2. Vender producto") 
        print("3. Ver inventario")
        print("4. Ver sin stock")
        print("5. Consultar producto")
        print("6. Estad√≠sticas")
        print("7. Salir")    
        opcion = input("\nOpci√≥n: ").strip()    
        if opcion == "1":
            print("\n--- Agregar ---")
            producto = input("Producto: ")
            try:
                cantidad = int(input("Cantidad: "))
                tienda.agregar(producto, cantidad)
            except ValueError:
                print("‚ùå La cantidad debe ser un n√∫mero")    
        elif opcion == "2":
            print("\n--- Vender ---")
            producto = input("Producto: ")
            try:
                cantidad = int(input("Cantidad: "))
                tienda.vender(producto, cantidad)
            except ValueError:
                print("‚ùå La cantidad debe ser un n√∫mero")   
        elif opcion == "3":
            print("\n--- Inventario ---")
            tienda.mostrar()   
        elif opcion == "4":
            print("\n--- Sin Stock ---")
            tienda.ver_agotados()   
        elif opcion == "5":
            print("\n--- Consultar ---")
            producto = input("Producto: ")
            tienda.consultar(producto)   
        elif opcion == "6":
            print("\n--- Estad√≠sticas ---")
            tienda.estadisticas()   
        elif opcion == "7":
            print("¬°Hasta pronto!")
            break   
        else:
            print("‚ùå Opci√≥n no v√°lida")
# Ejemplo de uso
def demo():
    """Demostraci√≥n r√°pida del sistema"""
    print("üî¨ DEMOSTRACI√ìN")
    print("="*20)
    inventario = InventarioTienda()
    # Agregar productos
    print("\n--- Agregando ---")
    inventario.agregar("Laptop", 5)
    inventario.agregar("Mouse", 10)
    inventario.agregar("Teclado", 3)
    # Mostrar inventario
    print("\n--- Inventario ---")
    inventario.mostrar()
    # Vender algunos
    print("\n--- Vendiendo ---")
    inventario.vender("Mouse", 3)
    inventario.vender("Teclado", 3)  # Se agota
    # Estado final
    print("\n--- Estado final ---")
    inventario.mostrar()
    inventario.ver_agotados()
    inventario.estadisticas()
if __name__ == "__main__":
    # Ejecutar demostraci√≥n
    demo()
    # Ejecutar sistema interactivo
    print("\n\n MODO INTERACTIVO")
    print("="*20)
    menu_principal()
